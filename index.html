<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
  <script src="https://aframe.io/releases/latest/aframe.min.js"></script>
  <script type="text/javascript" src="data.json"></script>
  <script src="https://rawgit.com/ngokevin/aframe-text-component/master/dist/aframe-text-component.min.js"></script>

  <style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }
  </style>
</head>

<body>
  <a-scene>
      <!-- Camera with customized cursor -->
      <a-camera position="0 1.8 0" cursor-visible="true" cursor-scale="2" cursor-color="#4CC3D9" cursor-offset="2" cursor-maxdistance="100" cursor-opacity="0.5" cursor-fuse="true"></a-camera>
      <a-light color="#FFF" position="-1 1 0" type="ambient"></a-light>

      <a-entity light="type: point; color: #FFF; intensity: 0.3" position="0 3 0"></a-entity>
      <!-- Sky -->
      <a-sky color="#00004d"></a-sky>
  </a-scene>
  <script>

    var json = {
                high:[5.2000000000000002, 9.3000000000000007, 0.0, 0.0, 33.5, 5.2000000000000002, 22.100000000000001, 391.0, 155.0, 99.299999999999997, 44.700000000000003, 54.700000000000003, 60.799999999999997, 20.899999999999999, 23.0, 8.0, 90.299999999999997, 15.199999999999999, 10.4, 71.599999999999994, 395.0, 214.09999999999999, 31.300000000000001, 74.400000000000006, 148.19999999999999, 346.10000000000002, 114.0, 133.5, 18.300000000000001, 360.69999999999999, 34.899999999999999, 32.600000000000001, 18.5, 19.0, 10.199999999999999, 111.7, 70.5, 120.5, 18.300000000000001, 31.399999999999999, 1193.9000000000001, 2507.0999999999999, 24.699999999999999, 53.5, 88.900000000000006, 26.399999999999999, 12.4, 182.0, 0.0, 25.100000000000001, 11.199999999999999, 10.699999999999999, 21.899999999999999, 48.5, 2330.0, 24.600000000000001, 19.899999999999999, 8.5999999999999996, 17.5, 65.299999999999997, 0.0, 453.89999999999998, 119.0, 134.30000000000001, 95.799999999999997, 81.5, 7.4000000000000004, 18.199999999999999, 17.699999999999999, 27.5, 15.5, 19.600000000000001, 9.9000000000000004, 116.8, 17.899999999999999, 191.0, 7.7000000000000002, 42.600000000000001, 102.40000000000001, 7.0999999999999996, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 99.0, 9.5, 49.399999999999999, 10.5, 17.699999999999999, 21.100000000000001, 110.90000000000001, 318.0, 17.199999999999999, 7.5999999999999996, 110.0, 25.199999999999999, 20.800000000000001, 1035.0, 29.0, 5.4000000000000004, 5.2999999999999998, 147.19999999999999, 46.5, 36.700000000000003, 40.200000000000003, 19.100000000000001, 8.0, 11.0, 0.0, 23.5, 11.1, 66.200000000000003, 13.9, 5.7999999999999998, 13.4, 24.100000000000001, 25.0, 8.3000000000000007, 12.4, 56.200000000000003, 16.300000000000001, 13.6, 20.699999999999999, 738.0, 8.4000000000000004, 55.299999999999997, 43.399999999999999, 1570.0, 14.6, 18.5, 288.0, 35.0, 73.0, 11.300000000000001, 7.0, 48.0, 22.699999999999999, 51.0, 549.0, 25.100000000000001, 31.800000000000001, 35.899999999999999, 985.0, 208.0, 101.09999999999999, 18.600000000000001, 7.9000000000000004, 4.7000000000000002, 5.5, 6.0999999999999996, 4.0999999999999996, 6.0999999999999996, 0.0, 93.400000000000006, 20.600000000000001, 5.0, 6.7999999999999998, 11.1, 13.4, 14.6, 41.799999999999997, 29.600000000000001, 17.899999999999999, 18.300000000000001, 13.0, 50.0, 15.5, 0.0, 13.0, 176.5, 54.0, 15.0, 32.299999999999997, 19.899999999999999, 82.900000000000006, 11.6, 386.30000000000001, 66.5, 8.1999999999999993, 90.0, 32.5, 21.399999999999999, 479.89999999999998, 1308.9000000000001, 6.7000000000000002, 7.9000000000000004, 16.899999999999999, 1210.0, 39.0, 7.0999999999999996, 8.5, 114.2, 53.600000000000001, 6.7999999999999998, 14.800000000000001, 16.0, 7.4000000000000004, 16.300000000000001, 78.5, 23.600000000000001, 57.899999999999999, 0.0, 123.8, 183.80000000000001, 42.0, 568.70000000000005, 185.09999999999999, 24.100000000000001, 183.0, 62.799999999999997, 9.8000000000000007, 11.199999999999999, 7.0, 18.600000000000001, 64.799999999999997, 22.699999999999999, 12.9, 230.30000000000001, 19.800000000000001, 76.700000000000003, 681.0, 134.0, 23.399999999999999, 308.0, 16.199999999999999, 62.0, 42.100000000000001, 26.800000000000001, 193.40000000000001, 20.899999999999999, 26.399999999999999, 17.699999999999999, 4.7999999999999998, 247.69999999999999, 23.5, 27.199999999999999, 4.7999999999999998, 30.399999999999999, 8.4000000000000004, 4.7999999999999998, 70.5, 55.700000000000003, 27.699999999999999, 109.40000000000001, 9.0999999999999996, 87.0, 13.5, 5.0999999999999996, 17.699999999999999, 9.0999999999999996, 18.800000000000001, 59.5, 24.100000000000001, 55.200000000000003, 16.399999999999999, 19.899999999999999, 24.800000000000001, 15.6, 96.700000000000003, 157.0, 275.0, 64.400000000000006, 107.7, 17.600000000000001, 1570.0, 15.800000000000001, 8.3000000000000007, 47.0, 1088.0, 672.0, 21.5, 24.0, 69.299999999999997, 26.0, 18.100000000000001, 36.5, 13.9, 51.600000000000001, 15.1, 15.0, 38.600000000000001, 17.300000000000001, 0.0, 68.900000000000006, 32.799999999999997, 48.700000000000003, 50.0, 12.0, 0.0, 14.4, 74.0, 10.9, 17.800000000000001, 16.800000000000001, 21.699999999999999, 187.0, 30.399999999999999, 191.80000000000001, 16.5, 10.1, 17.600000000000001, 9.5, 138.30000000000001, 0.0, 70.5, 247.69999999999999, 55.200000000000003, 19.0, 11.199999999999999, 1494.0, 38.299999999999997, 20.5, 17.699999999999999, 9.4000000000000004, 47.200000000000003, 20.199999999999999, 5.2999999999999998, 23.699999999999999, 11.4, 20.399999999999999, 16.399999999999999, 48.200000000000003, 5.0999999999999996, 22.899999999999999, 25.699999999999999, 142.0, 89.0, 24.5, 61.299999999999997, 10.1, 8.8000000000000007, 169.69999999999999, 33.0, 31.5, 17.600000000000001, 18.0, 29.800000000000001],
                ticker:["1JANATAMF", "1STPRIMFMF", "7THICB", "8THICB", "AAMRATECH", "ABB1STMF", "ABBANK", "ACI", "ACIFORMULA", "ACMELAB", "ACTIVEFINE", "AFCAGRO", "AFTABAUTO", "AGNISYSL", "AGRANINS", "AIBL1STIMF", "AL-HAJTEX", "ALARABANK", "ALLTEX", "AMANFEED", "AMBEEPHA", "AMCL(PRAN)", "ANLIMAYARN", "ANWARGALV", "APEXFOODS", "APEXFOOT", "APEXSPINN", "APEXTANRY", "APOLOISPAT", "ARAMIT", "ARAMITCEM", "ARGONDENIM", "ASIAINS", "ASIAPACINS", "ATCSLGF", "ATLASBANG", "AZIZPIPES", "BANGAS", "BANKASIA", "BARKAPOWER", "BATASHOE", "BATBC", "BAYLEASING", "BBS", "BDAUTOCA", "BDCOM", "BDFINANCE", "BDLAMPS", "BDSERVICE", "BDTHAI", "BDWELDING", "BEACHHATCH", "BEACONPHAR", "BENGALWTL", "BERGERPBL", "BEXIMCO", "BGIC", "BIFC", "BNICL", "BRACBANK", "BRACSCBOND", "BSC", "BSCCL", "BSRMLTD", "BSRMSTEEL", "BXPHARMA", "BXSYNTH", "CENTRALINS", "CENTRALPHL", "CITYBANK", "CITYGENINS", "CMCKAMAL", "CNATEX", "CONFIDCEM", "CONTININS", "CVOPRL", "DACCADYE", "DAFODILCOM", "DBH", "DBH1STMF", "DEBARACEM", "DEBBDLUGG", "DEBBDWELD", "DEBBDZIPP", "DEBBXDENIM", "DEBBXFISH", "DEBBXKNI", "DEBBXTEX", "DELTALIFE", "DELTASPINN", "DESCO", "DESHBANDHU", "DHAKABANK", "DHAKAINS", "DOREENPWR", "DSHGARME", "DSSL", "DULAMIACOT", "DUTCHBANGL", "EASTERNINS", "EASTLAND", "EASTRNLUB", "EBL", "EBL1STMF", "EBLNRBMF", "ECABLES", "EHL", "EMERALDOIL", "ENVOYTEX", "ETL", "EXIM1STMF", "EXIMBANK", "FAMILYTEX", "FARCHEM", "FAREASTFIN", "FAREASTLIF", "FASFIN", "FBFIF", "FEDERALINS", "FEKDIL", "FINEFOODS", "FIRSTFIN", "FIRSTSBANK", "FORTUNE", "FUWANGCER", "FUWANGFOOD", "GBBPOWER", "GEMINISEA", "GENNEXT", "GHAIL", "GHCL", "GLAXOSMITH", "GLOBALINS", "GOLDENSON", "GP", "GPHISPAT", "GQBALLPEN", "GRAMEENS2", "GREENDELMF", "GREENDELT", "GSPFINANCE", "HAKKANIPUL", "HEIDELBCEM", "HFL", "HRTEX", "HWAWELLTEX", "IBBLPBOND", "IBNSINA", "ICB", "ICB1STNRB", "ICB2NDNRB", "ICB3RDNRB", "ICBAMCL2ND", "ICBEPMF1S1", "ICBIBANK", "ICBSONALI1", "IDLC", "IFADAUTOS", "IFIC", "IFIC1STMF", "IFILISLMF1", "ILFSL", "IMAMBUTTON", "INTECH", "IPDC", "ISLAMIBANK", "ISLAMICFIN", "ISLAMIINS", "ISNLTD", "ITC", "JAMUNABANK", "JAMUNAOIL", "JANATAINS", "JMISMDL", "JUTESPINN", "KARNAPHULI", "KAY&QUE", "KBPPWBIL", "KDSALTD", "KEYACOSMET", "KOHINOOR", "KPCL", "KPPL", "LAFSURCEML", "LANKABAFIN", "LEGACYFOOT", "LIBRAINFU", "LINDEBD", "LRGLOBMF1", "MAKSONSPIN", "MALEKSPIN", "MARICO", "MATINSPINN", "MBL1STMF", "MEGCONMILK", "MEGHNACEM", "MEGHNALIFE", "MEGHNAPET", "MERCANBANK", "MERCINS", "METROSPIN", "MHSML", "MICEMENT", "MIDASFIN", "MIRACLEIND", "MITHUNKNIT", "MJLBD", "MODERNDYE", "MONNOCERA", "MONNOSTAF", "MPETROLEUM", "MTB", "NATLIFEINS", "NAVANACNG", "NBL", "NCCBANK", "NCCBLMF1", "NFML", "NHFIL", "NITOLINS", "NLI1STMF", "NORTHERN", "NORTHRNINS", "NPOLYMAR", "NTC", "NTLTUBES", "OAL", "OLYMPIC", "ONEBANKLTD", "ORIONINFU", "ORIONPHARM", "PADMALIFE", "PADMAOIL", "PARAMOUNT", "PENINSULA", "PEOPLESINS", "PF1STMF", "PHARMAID", "PHENIXINS", "PHOENIXFIN", "PHPMF1", "PIONEERINS", "PLFSL", "POPULAR1MF", "POPULARLIF", "POWERGRID", "PRAGATIINS", "PRAGATILIF", "PREMIERBAN", "PREMIERCEM", "PREMIERLEA", "PRIME1ICBA", "PRIMEBANK", "PRIMEFIN", "PRIMEINSUR", "PRIMELIFE", "PRIMETEX", "PROGRESLIF", "PROVATIINS", "PTL", "PUBALIBANK", "PURABIGEN", "QSMDRYCELL", "RAHIMAFOOD", "RAHIMTEXT", "RAKCERAMIC", "RANFOUNDRY", "RDFOOD", "RECKITTBEN", "REGENTTEX", "RELIANCE1", "RELIANCINS", "RENATA", "RENWICKJA", "REPUBLIC", "RNSPIN", "RSRMSTEEL", "RUPALIBANK", "RUPALIINS", "RUPALILIFE", "SAFKOSPINN", "SAIFPOWER", "SAIHAMCOT", "SAIHAMTEX", "SALAMCRST", "SALVOCHEM", "SAMATALETH", "SAMORITA", "SANDHANINS", "SAPORTL", "SAVAREFR", "SEBL1STMF", "SEMLLECMF", "SHAHJABANK", "SHASHADNIM", "SHURWID", "SHYAMPSUG", "SIBL", "SIMTEX", "SINGERBD", "SINOBANGLA", "SONALIANSH", "SONARBAINS", "SONARGAON", "SOUTHEASTB", "SPCERAMICS", "SPCL", "SPPCL", "SQUARETEXT", "SQURPHARMA", "STANCERAM", "STANDARINS", "STANDBANKL", "STYLECRAFT", "SUMITPOWER", "SUNLIFEINS", "TAKAFULINS", "TALLUSPIN", "TITASGAS", "TOSRIFA", "TRUSTB1MF", "TRUSTBANK", "TUNGHAI", "UCB", "UNIONCAP", "UNIQUEHRL", "UNITEDAIR", "UNITEDFIN", "UNITEDINS", "UPGDCL", "USMANIAGL", "UTTARABANK", "UTTARAFIN", "VAMLBDMF1", "VAMLRBBF", "WATACHEM", "WMSHIPYARD", "YPL", "ZAHEENSPIN", "ZAHINTEX", "ZEALBANGLA"]
              }
    var data = json.high
    var barPadding = 1;



    // for (var i = 0; i < 50; i++) {
    // 	data.push(Math.floor(Math.random()*100))
		// }
    // data = raw_data
    // data = raw_data.slice(1,50)
    //Scale the height of bars
    var hScale = d3.scale.linear()
                    .domain([d3.min(data), d3.max(data)])
                    .range([0, 10])
    var colors = d3.scale.linear()
                    .domain([0, data.length*.33, data.length*.66, data.length])
                    .range(['#B58929','#C61C6F', '#268BD2', '#85992C'])

    var scene = d3.select("a-scene")

    var bars = scene.selectAll("a-cylinder.bar")
    								.data(data)

    						bars.enter()
                    .append("a-cylinder")
                    .classed("bar", true)


    bars.attr({
      position: function(d,i) {
        var y = 1 + hScale(d)/2;
        var radius = 15;
        var x = radius * Math.cos(i/data.length * 2 * Math.PI);
        var z = radius * Math.sin(i/data.length * 2 * Math.PI);
        return x + " " + y + " " + z
      },
      rotation: function(d,i) {
        var x = 0;
        var z = 0;
        var y = -(i/data.length)*360;
        return x + " " + y + " " + z
      },
      width: function(d) { return 0.5},
      depth: function(d) { return 0.9},
      height: 0,
      color: function(d,i) { return colors(i);}
    })
        .transition()
        .attr("height", function(d) { return  hScale(d) })
        .delay(function(d, i) {
            return i * 100;
        })
        .duration(7000)
        .ease("elastic")

  </script>
</body>
